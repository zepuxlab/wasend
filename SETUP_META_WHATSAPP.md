# üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Meta WhatsApp Cloud API

## üéØ –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Meta WhatsApp Cloud API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–∞—Å—Å—ã–ª–æ–∫. –í–∞–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—Å–µ–º —à–∞–≥–∞–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Meta Business Account** (–±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç Meta)
2. **WhatsApp Business Account** (WABA)
3. **–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞** (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –Ω–∞—á–∞–ª–∞)
4. **Meta App** –≤ [Meta for Developers](https://developers.facebook.com)

---

## üîß –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Meta App

### 1.1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Meta for Developers

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://developers.facebook.com
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ **"My Apps"** ‚Üí **"Create App"**

### 1.2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –í—ã–±–µ—Ä–∏—Ç–µ **"Business"** —Ç–∏–ø
- –ù–∞–∂–º–∏—Ç–µ **"Next"**
- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
  - **App Name**: `WhatsApp Campaign System` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
  - **App Contact Email**: –≤–∞—à email
  - **Business Account**: –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç

### 1.3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç WhatsApp

1. –í Dashboard –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–π–¥–∏—Ç–µ **"WhatsApp"**
2. –ù–∞–∂–º–∏—Ç–µ **"Set up"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à **WhatsApp Business Account** (WABA)

---

## üîë –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ ID

### 2.1. Access Token (–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω**, –∞ –Ω–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π!

1. –í Dashboard –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WhatsApp** ‚Üí **API Setup**
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Temporary access token"**
3. –ù–∞–∂–º–∏—Ç–µ **"Generate token"** (—ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω)
4. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Basic**
   - –ù–∞–π–¥–∏—Ç–µ **"App ID"** –∏ **"App Secret"**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WhatsApp** ‚Üí **API Setup**
   - –í —Ä–∞–∑–¥–µ–ª–µ **"Access tokens"** –Ω–∞–∂–º–∏—Ç–µ **"Add or remove permissions"**
   - –î–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
     - `whatsapp_business_messaging`
     - `whatsapp_business_management`
   - –ù–∞–∂–º–∏—Ç–µ **"Generate Token"**
   - **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω** - –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ `.env`

**–ò–ª–∏ —á–µ—Ä–µ–∑ Graph API Explorer:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://developers.facebook.com/tools/explorer/
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –î–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è: `whatsapp_business_messaging`, `whatsapp_business_management`
4. –ù–∞–∂–º–∏—Ç–µ **"Generate Access Token"**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### 2.2. Phone Number ID

1. –í Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WhatsApp** ‚Üí **API Setup**
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Phone number ID"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789012345`)

### 2.3. Business Account ID (WABA ID)

1. –í Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WhatsApp** ‚Üí **API Setup**
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"WhatsApp Business Account ID"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `987654321098765`)

### 2.4. Webhook Verify Token

1. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `my-secret-webhook-token-12345`)
2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ** - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook

---

## üîó –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook

### 3.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ URL

–í–∞—à webhook URL –±—É–¥–µ—Ç:
```
https://office.ampriomilano.com/wasend/api/webhook
```

### 3.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Meta Dashboard

1. –í Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **WhatsApp** ‚Üí **Configuration**
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Webhook"**
3. –ù–∞–∂–º–∏—Ç–µ **"Edit"** –∏–ª–∏ **"Add webhook"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Callback URL**: `https://office.ampriomilano.com/wasend/api/webhook`
   - **Verify Token**: –≤–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–∑ —à–∞–≥–∞ 2.4
5. –ù–∞–∂–º–∏—Ç–µ **"Verify and Save"**

### 3.3. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è

–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è webhook, –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è:
- ‚úÖ **messages** - –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **message_template_status_update** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —à–∞–±–ª–æ–Ω–æ–≤

---

## üìù –®–∞–≥ 4: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ .env —Ñ–∞–π–ª–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh amprio 'nano /home/ec2-user/officeamprio/wasendler/.env'
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Meta WhatsApp Cloud API
META_ACCESS_TOKEN=–≤–∞—à-–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π-—Ç–æ–∫–µ–Ω-–∏–∑-—à–∞–≥–∞-2.1
META_PHONE_NUMBER_ID=–≤–∞—à-phone-number-id-–∏–∑-—à–∞–≥–∞-2.2
META_BUSINESS_ACCOUNT_ID=–≤–∞—à-business-account-id-–∏–∑-—à–∞–≥–∞-2.3
META_WEBHOOK_VERIFY_TOKEN=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-—Ç–æ–∫–µ–Ω-–∏–∑-—à–∞–≥–∞-2.4
```

**–ü—Ä–∏–º–µ—Ä:**
```env
META_ACCESS_TOKEN=EAABwzLixnjYBO7ZC...
META_PHONE_NUMBER_ID=123456789012345
META_BUSINESS_ACCOUNT_ID=987654321098765
META_WEBHOOK_VERIFY_TOKEN=my-secret-webhook-token-12345
```

### 4.1. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend

–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è `.env`:

```bash
ssh amprio 'pm2 restart wasendler-backend'
```

---

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 5.1. –ß–µ—Ä–µ–∑ API

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://office.ampriomilano.com/wasend/api/settings/status
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{
  "meta_api": {
    "connected": true,
    "last_check": "2025-12-12T...",
    "phone_number": "+1234567890",
    "business_name": "Your Business"
  },
  "webhook": {
    "active": true
  },
  "database": {
    "connected": true
  }
}
```

### 5.2. –ß–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://office.ampriomilano.com/wasend/`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

---

## üìã –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

### 6.1. –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –≤ Meta

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Meta Business Suite** ‚Üí **WhatsApp** ‚Üí **Message Templates**
2. –ù–∞–∂–º–∏—Ç–µ **"Create Template"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name**: –∏–º—è —à–∞–±–ª–æ–Ω–∞ (—Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω–∏—Ü–∞, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
   - **Category**: –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
   - **Language**: –≤—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫
   - **Content**: —Å–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

**–ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞:**
```
–ü—Ä–∏–≤–µ—Ç, {{1}}! –í–∞—à –∑–∞–∫–∞–∑ {{2}} –≥–æ—Ç–æ–≤ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ.
```

### 6.2. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ

1. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ **"Submit"**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–¥–æ–±—Ä–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ 24-48 —á–∞—Å–æ–≤)
3. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è —à–∞–±–ª–æ–Ω –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 6.3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://office.ampriomilano.com/wasend/templates`
2. –ù–∞–∂–º–∏—Ç–µ **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å"**
3. –®–∞–±–ª–æ–Ω—ã –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑ Meta API

---

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Meta WhatsApp

1. **24-—á–∞—Å–æ–≤–æ–µ –æ–∫–Ω–æ**
   - –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—á–∞—Ç—å –µ–º—É –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤
   - –ü–æ—Å–ª–µ 24 —á–∞—Å–æ–≤ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

2. **Rate Limits**
   - **–ù–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞**: 1,000 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å
   - **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞**: –¥–æ 10,000 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å (—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º)
   - **–®–∞–±–ª–æ–Ω—ã**: –¥–æ 250,000 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å (–ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏)

3. **Opt-in –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω**
   - –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ–º, –∫—Ç–æ –¥–∞–ª —Å–æ–≥–ª–∞—Å–∏–µ (`opt_in: true`)
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã –±–µ–∑ opt-in

4. **–ö–∞—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π**
   - –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–ø–∞–º
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é
   - –û—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤

### üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

–°–∏—Å—Ç–µ–º–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å –∑–∞—â–∏—Ç–æ–π:

1. **Rate Limiting –≤ Worker**
   - –ú–∞–∫—Å–∏–º—É–º 50 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 60 —Å–µ–∫—É–Ω–¥
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–ø–∞–Ω–∏–∏

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ `opt_in` –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

4. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–ø–∞–Ω–∏–∏**
   - **Batch size**: 50 —Å–æ–æ–±—â–µ–Ω–∏–π
   - **Delay**: 1-2 –º–∏–Ω—É—Ç—ã –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
   - **Daily cap**: –Ω–µ –±–æ–ª–µ–µ 1,000 –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–æ–≤

---

## üö® –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –û—à–∏–±–∫–∞: "Invalid OAuth access token"

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–æ–∫–µ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω**, –∞ –Ω–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π
3. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ Meta Dashboard

### –û—à–∏–±–∫–∞: "Phone number not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π Phone Number ID

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Phone Number ID –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ–º–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω –≤ Meta Business Suite

### –û—à–∏–±–∫–∞: "Template not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –®–∞–±–ª–æ–Ω –Ω–µ –æ–¥–æ–±—Ä–µ–Ω –∏–ª–∏ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —à–∞–±–ª–æ–Ω–∞ –≤ Meta Business Suite
2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã —á–µ—Ä–µ–∑ `/templates`

### –û—à–∏–±–∫–∞: "Rate limit exceeded"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–º–µ–Ω—å—à–∏—Ç–µ batch size –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–º–ø–∞–Ω–∏–∏
2. –£–≤–µ–ª–∏—á—å—Ç–µ delay –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:
   ```bash
   ssh amprio 'pm2 logs wasendler-backend --lines 50'
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å API:
   ```bash
   curl https://office.ampriomilano.com/wasend/api/settings/status
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Meta:
   - https://developers.facebook.com/docs/whatsapp/cloud-api
   - https://developers.facebook.com/docs/whatsapp/business-management-api

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] Meta App —Å–æ–∑–¥–∞–Ω
- [ ] WhatsApp –ø—Ä–æ–¥—É–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π Access Token –ø–æ–ª—É—á–µ–Ω
- [ ] Phone Number ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] Business Account ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- [ ] –í—Å–µ —Ç–æ–∫–µ–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env`
- [ ] Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω (connected: true)
- [ ] –®–∞–±–ª–æ–Ω—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –æ–¥–æ–±—Ä–µ–Ω—ã
- [ ] –®–∞–±–ª–æ–Ω—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ

