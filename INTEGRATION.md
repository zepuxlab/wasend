# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Frontend –∏ Backend

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω –ø–æ—Ä—Ç `8080` –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö origins –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É `8080` (Vite dev server)

### 2. API Endpoints
–í—Å–µ endpoints —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º:

#### Config API
- ‚úÖ `GET /api/config` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

#### Templates API
- ‚úÖ `GET /api/templates` - —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ `POST /api/templates/sync` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑ Meta
- ‚úÖ `GET /api/templates/:id` - –¥–µ—Ç–∞–ª–∏ —à–∞–±–ª–æ–Ω–∞

#### Campaigns API
- ‚úÖ `GET /api/campaigns` - —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π
- ‚úÖ `GET /api/campaigns/:id` - –¥–µ—Ç–∞–ª–∏ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `GET /api/campaigns/:id/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ `GET /api/campaigns/:id/recipients` - –ø–æ–ª—É—á–∞—Ç–µ–ª–∏
- ‚úÖ `POST /api/campaigns` - —Å–æ–∑–¥–∞–Ω–∏–µ
- ‚úÖ `PATCH /api/campaigns/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ `DELETE /api/campaigns/:id` - —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ `POST /api/campaigns/:id/start` - –∑–∞–ø—É—Å–∫
- ‚úÖ `POST /api/campaigns/:id/pause` - –ø–∞—É–∑–∞
- ‚úÖ `POST /api/campaigns/:id/resume` - –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ `POST /api/campaigns/:id/stop` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

#### Contacts API
- ‚úÖ `GET /api/contacts` - —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- ‚úÖ `GET /api/contacts/:id` - –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- ‚úÖ `POST /api/contacts` - —Å–æ–∑–¥–∞–Ω–∏–µ
- ‚úÖ `POST /api/contacts/import` - –∏–º–ø–æ—Ä—Ç
- ‚úÖ `PATCH /api/contacts/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ `DELETE /api/contacts/:id` - —É–¥–∞–ª–µ–Ω–∏–µ

#### Contact Lists API
- ‚úÖ `GET /api/contact-lists` - —Å–ø–∏—Å–æ–∫ —Å–ø–∏—Å–∫–æ–≤
- ‚úÖ `GET /api/contact-lists/:id` - –¥–µ—Ç–∞–ª–∏ —Å–ø–∏—Å–∫–∞
- ‚úÖ `GET /api/contact-lists/:id/contacts` - –∫–æ–Ω—Ç–∞–∫—Ç—ã –≤ —Å–ø–∏—Å–∫–µ
- ‚úÖ `POST /api/contact-lists` - —Å–æ–∑–¥–∞–Ω–∏–µ
- ‚úÖ `POST /api/contact-lists/:id/contacts` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

#### Chats API
- ‚úÖ `GET /api/chats` - —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
- ‚úÖ `GET /api/chats/:id` - –¥–µ—Ç–∞–ª–∏ —á–∞—Ç–∞
- ‚úÖ `GET /api/chats/:id/messages` - —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ `POST /api/chats/:id/messages` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ `POST /api/chats/:id/resolve` - –∑–∞–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–∞
- ‚úÖ `POST /api/chats/:id/reopen` - –ø–µ—Ä–µ–æ—Ç–∫—Ä—ã—Ç–∏–µ
- ‚úÖ `POST /api/chats/:id/tag` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞

#### Logs API
- ‚úÖ `GET /api/logs` - –ª–æ–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### Settings API
- ‚úÖ `GET /api/settings/status` - —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ `GET /api/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `PATCH /api/settings` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

#### Webhook
- ‚úÖ `GET /api/webhook` - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ `POST /api/webhook` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

### 3. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `PublicConfig` - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–≤–µ—Ç—É `/api/config`
- ‚úÖ `ConnectionStatus` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supabase —Å –±—ç–∫–µ–Ω–¥–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## üöÄ –ó–∞–ø—É—Å–∫

### Backend
```bash
cd backend
npm install
npm run dev
# –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3001
```

### Frontend
```bash
cd frontend
bun install
bun run dev
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:8080
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Backend URL
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç URL –±—ç–∫–µ–Ω–¥–∞ –∏–∑ `localStorage`:
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:3001/api`
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Settings)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Backend
–°–º. `backend/env.example`:
- `SUPABASE_URL` - URL –ø—Ä–æ–µ–∫—Ç–∞ Supabase
- `SUPABASE_SERVICE_KEY` - Service Role Key (–¥–ª—è –±—ç–∫–µ–Ω–¥–∞)
- `SUPABASE_ANON_KEY` - Anon Key (–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É)
- `META_ACCESS_TOKEN` - —Ç–æ–∫–µ–Ω Meta WhatsApp API
- `META_PHONE_NUMBER_ID` - ID –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `META_BUSINESS_ACCOUNT_ID` - ID –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç–∞
- `META_WEBHOOK_VERIFY_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ webhook
- `REDIS_URL` - URL Redis (–¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±—ç–∫–µ–Ω–¥–∞:**
   ```bash
   curl http://localhost:3001/api/config
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å `supabase_url` –∏ `supabase_anon_key`

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
   ```bash
   curl http://localhost:3001/api/settings/status
   ```

3. **–í –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±—ç–∫–µ–Ω–¥—É
   - –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç—É—Å `'ready'` –¥–ª—è UI, –Ω–æ –±—ç–∫–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∫–∞–º–ø–∞–Ω–∏–π
- –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `/api/config`

